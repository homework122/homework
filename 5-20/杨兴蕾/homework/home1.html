<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>电子邮箱验证</title>
</head>
<body>
<!--电子邮件列表-->
<textarea  id="emailInput" cols="30" rows="10" placeholder="输入邮件"></textarea><br>
<!--搜索字符串-->
<input type="text" id="emailSea" placeholder="查询邮件"><button type="button" id="btnSearch">搜索</button><br>
<!--显示结果-->
<textarea  id="emailRes" cols="30" rows="10"  placeholder="过滤结果"></textarea>
<!--提交按钮-->
</body>
<script src="js/jquery.3.4.0.js"></script>
<script src="js/isEmail.js"></script>
<script type="text/javascript">
    var emailInput;//获得输入的邮件
    var emailSea;//获得查询的邮件
    var emailArr=[];
    $("#btnSearch").click(function () {
        emailSplit()
    });
    function emailSplit() {
        emailInput=$("#emailInput").val();

//        邮件以分号分割
        emailArr=emailInput.split(";");
        //    验证邮箱
//        yzEmail(emailArr);
        for (var i=0;i<emailArr.length;i++){
            if(!isEmail(emailArr[i])){
                alert("邮箱格式不正确");
                break;
            }
        };

    }
//    验证邮箱
    function isEmail(email) {
        var reg = /^[A-Za-z0-9\u4e00-\u9fa5]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/;
        if(!reg.test(email)){
           return false;
        }else {
            return true
        }
    }
//    搜索
    function searchEmail(emailArr) {

        emailSea=$("#emailSea").val();
//        先判断是否是邮箱
        if(!isEmail(emailSea)){
            alert("邮箱格式不正确");
        }
//        进行模糊查询
        var searchGet = likeSearCh(emailSea,emailArr);
        return searchGet;


    }
//    点击搜索的时候将搜索到结果放到输入框
    $("#btnSearch").click(function () {
        var get = searchEmail(emailArr);
        $("#emailRes").text(get)
    });
    function likeSearCh(emailSea,emailArr) {
        var getArr=[];
        for(var i=0;i<emailArr.length;i++){
            if(emailArr[i].indexOf(emailSea)>-1){
//                显示结果中显示该结果
                getArr.push(emailArr[i])
            }
        }
        return getArr;
    }

</script>
</html>